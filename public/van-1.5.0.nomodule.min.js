{let e,t,l,n,r,o,s,f,i,u,h,w,d,a,_,c,S,g,v,y,b,m,j,x,O;o=Object.getPrototypeOf,f={},i=o(s={isConnected:1}),u=o(o),h=(e,t,l,n)=>(e??(setTimeout(l,n),new Set)).add(t),w=(e,t,n)=>{let r=l;l=t;try{return e(n)}catch(e){return console.error(e),n}finally{l=r}},d=e=>e.filter(e=>e.t?.isConnected),a=e=>r=h(r,e,()=>{for(let e of r)e.l=d(e.l),e.o=d(e.o);r=null},1e3),_={get val(){return l?.i?.add(this),this.u},get oldVal(){return l?.i?.add(this),this.h},set val(n){l?._?.add(this),n!==this.u&&(this.u=n,this.l.length+this.o.length?(t?.add(this),e=h(e,this,x)):this.h=n)}},c=e=>({__proto__:_,u:e,h:e,l:[],o:[]}),S=(e,t)=>{let l={i:new Set,_:new Set},r={f:e},o=n;n=[];let s=w(e,l,t);s=(s??document).nodeType?s:new Text(s);for(let e of l.i)l._.has(e)||(a(e),e.l.push(r));for(let e of n)e.t=s;return n=o,r.t=s},g=(e,t=c(),l)=>{let r={i:new Set,_:new Set},o={f:e,s:t};o.t=l??n?.push(o)??s,t.val=w(e,r,t.u);for(let e of r.i)r._.has(e)||(a(e),e.o.push(o));return t},v=(e,...t)=>{for(let l of t.flat(1/0)){let t=o(l??0),n=t===_?S(()=>l.val):t===u?S(l):l;null!=n&&e.append(n)}return e},y=(e,t,...l)=>{let[n,...r]=o(l[0]??0)===i?l:[{},...l],s=e?document.createElementNS(e,t):document.createElement(t);for(let[e,l]of Object.entries(n)){let n=t=>t?Object.getOwnPropertyDescriptor(t,e)??n(o(t)):null,r=t+","+e,i=f[r]??(f[r]=n(o(s))?.set??0),h=e.startsWith("on")?(t,l)=>{let n=e.slice(2);s.removeEventListener(n,l),s.addEventListener(n,t)}:i?i.bind(s):s.setAttribute.bind(s,e),w=o(l??0);e.startsWith("on")||w===u&&(l=g(l),w=_),w===_?S(()=>(h(l.val,l.h),s)):h(l)}return v(s,...r)},b=e=>({get:(t,l)=>y.bind(null,e,l)}),m=new Proxy(e=>new Proxy(y,b(e)),b()),j=(e,t)=>t?t!==e&&e.replaceWith(t):e.remove(),x=()=>{let l=0,n=[...e].filter(e=>e.u!==e.h);do{t=new Set;for(let e of new Set(n.flatMap(e=>e.o=d(e.o))))g(e.f,e.s,e.t),e.t=null}while(++l<100&&(n=[...t]).length);let r=[...e].filter(e=>e.u!==e.h);e=null;for(let e of new Set(r.flatMap(e=>e.l=d(e.l))))j(e.t,S(e.f,e.t)),e.t=null;for(let e of r)e.h=e.u},O={add:v,tags:m,state:c,derive:g,hydrate:(e,t)=>j(e,S(t,e))},window.van=O;}